// Generated by psc-bundle 0.8.0.0
var PS = { };
(function(exports) {
  "use strict";

  // module Purejections

  exports.when = function(eventname) {
    return function(eventhandler){
      var obj = {};
      obj[eventname] = function(state, event) {
        return eventhandler(state)(event);
      }
      return obj;
    };
  };

  var merge_objects = function (obj1,obj2){
    var obj3 = {};
    for (var attrname in obj1) { obj3[attrname] = obj1[attrname]; }
    for (var attrname in obj2) { obj3[attrname] = obj2[attrname]; }
    return obj3;
  }

  exports.foreignAppend = function(folderA){
    return function(folderB){
      return merge_objects(folderA, folderB);
    }
  }

  exports.runProjection = function(streamName){
    return function(initialState){
      return function(folder){
        var handlers = merge_objects({$init: function(){return initialState;}},folder);
        return function() {
          fromStream(streamName).when(handlers);
        }
      }
    }
  }
 
})(PS["Purejections"] = PS["Purejections"] || {});
(function(exports) {
  // Generated by psc version 0.8.0.0
  "use strict";
  var $foreign = PS["Purejections"];
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  exports["foreignAppend"] = $foreign.foreignAppend;
  exports["when"] = $foreign.when;
  exports["runProjection"] = $foreign.runProjection;;
 
})(PS["Purejections"] = PS["Purejections"] || {});
(function(exports) {
  // Generated by psc version 0.8.0.0
  "use strict";
  var Prelude = PS["Prelude"];
  var Control_Monad_Eff = PS["Control.Monad.Eff"];
  var Purejections = PS["Purejections"];     
  var handlerB = function (s) {
      return function (e) {
          return {
              count: s.count + 1 | 0
          };
      };
  };
  var handlerA = function (s) {
      return function (e) {
          return {
              count: s.count + 1 | 0
          };
      };
  };
  var main = Purejections.runProjection("Figo")({
      count: 0
  })(Purejections.foreignAppend(Purejections.when("Hello")(handlerA))(Purejections.when("Figo")(handlerB)));
  exports["main"] = main;
  exports["handlerB"] = handlerB;
  exports["handlerA"] = handlerA;;
 
})(PS["Main"] = PS["Main"] || {});

PS["Main"].main();
